(window.webpackJsonp=window.webpackJsonp||[]).push([[21,19,23],{623:function(t,e,n){"use strict";n.r(e);var o={name:"DialogForm",props:{maxWidth:{type:String,default:"800px"},dialogTitle:{type:String,default:""}},data:function(){return{dialog:!1}},methods:{addLine:function(){this.$emit("addLine")},openDialog:function(){this.dialog=!0},closeDialog:function(){this.dialog=!1,this.$emit("eventCloseDialog")},saveData:function(){this.$emit("saveData")}}},r=n(81),l=n(89),c=n.n(l),d=n(106),f=n(123),v=n(54),h=n(575),m=n(277),D=n(566),_=n(126),F=n(276),component=Object(r.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-dialog",{attrs:{"no-click-animation":"",persistent:"",scrollable:"","max-width":t.maxWidth,transition:"dialog-top-transition"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[n("v-card",[n("v-card-title",[n("span",{staticClass:"subtitle-2"},[t._v(t._s(t.dialogTitle))]),t._v(" "),n("v-spacer"),t._v(" "),n("v-btn",{attrs:{icon:"",color:"red",dark:""},on:{click:function(e){return t.closeDialog()}}},[n("v-icon",[t._v("mdi-close-circle")])],1)],1),t._v(" "),n("v-divider"),t._v(" "),n("v-card-text",{staticClass:"pl-0 pr-0"},[n("v-container",{attrs:{fluid:""}},[t._t("content")],2)],1),t._v(" "),n("v-divider"),t._v(" "),n("v-card-actions",[n("v-spacer"),t._v(" "),t._t("addLine"),t._v(" "),t._t("saveData")],2)],1)],1)}),[],!1,null,null,null);e.default=component.exports;c()(component,{VBtn:d.a,VCard:f.a,VCardActions:v.a,VCardText:v.c,VCardTitle:v.d,VContainer:h.a,VDialog:m.a,VDivider:D.a,VIcon:_.a,VSpacer:F.a})},634:function(t,e,n){var content=n(662);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(20).default)("59db5f86",content,!0,{sourceMap:!1})},661:function(t,e,n){"use strict";n(634)},662:function(t,e,n){var o=n(19)(!1);o.push([t.i,".pdf-container[data-v-3538ecec]{height:80vh}",""]),t.exports=o},675:function(t,e,n){"use strict";n.r(e);n(27),n(38),n(49),n(82),n(56),n(188),n(31),n(11);var o=n(688),r=n.n(o),l={name:"PSPDFKit",data:function(){return{pdfFile:"",PSPDFKitInstance:null}},watch:{pdfFile:function(t){t&&this.loadPSPDFKit()}},methods:{setSource:function(t){var e=this;this.pdfFile=t,this.loadPSPDFKit().then((function(t){e.$emit("loaded",t)}))},getCoordinate:function(){var t=this,e=this.PSPDFKitInstance;Promise.all(Array.from({length:e.totalPageCount}).map((function(t,n){return e.getAnnotations(n)}))).then((function(e){var n=e.map((function(t){return t.toJS()})).flat();t.$emit("coordinate",n)}))},loadPSPDFKit:function(){var t=this,e="".concat(window.location.protocol,"//").concat(window.location.host,"/js/");return r.a.unload(".pdf-container"),r.a.load({document:t.pdfFile,container:".pdf-container",baseUrl:e}).then((function(e){t.PSPDFKitInstance=e;var n=e.toolbarItems;e.setToolbarItems(n.filter((function(t){return"rectangle"===t.type||"stamp"===t.type||"pager"===t.type})))}))}}},c=(n(661),n(81)),component=Object(c.a)(l,(function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"pdf-container"})}),[],!1,null,"3538ecec",null);e.default=component.exports},871:function(t,e,n){"use strict";n.r(e);n(55);var o={data:function(){return{pdfFile:this.pdfFile||"/document.pdf",item:{}}},methods:{newData:function(t,e){var n=this;this.item=e,this.$refs.dialogEditor.openDialog(),this.pdfFile=t,setTimeout((function(){n.$refs.pdfKit.setSource(n.pdfFile)}),300)},close:function(){this.$refs.dialogEditor.closeDialog()},coordinate:function(data){this.$emit("coordinate",{data:data,item:this.item})},getCoordinate:function(){var t=this;this.$refs.pdfKit.getCoordinate(),setTimeout((function(){t.close()}),50)},handleLoaded:function(t){console.log("PSPDFKit has loaded: ",t)}}},r=n(81),l=n(89),c=n.n(l),d=n(106),component=Object(r.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("DialogForm",{ref:"dialogEditor",attrs:{"max-width":"100vw","dialog-title":"File","button-title":"Save"},scopedSlots:t._u([{key:"content",fn:function(){return[n("DocumentPSPDFKitContainer",{ref:"pdfKit",attrs:{"pdf-file":t.pdfFile},on:{loaded:t.handleLoaded,coordinate:t.coordinate}})]},proxy:!0},{key:"saveData",fn:function(){return[n("v-btn",{staticClass:"white--text",attrs:{small:"",color:"green"},on:{click:function(e){return t.getCoordinate()}}},[t._v("\n      Get Coordinate\n    ")])]},proxy:!0}])})}),[],!1,null,null,null);e.default=component.exports;c()(component,{DocumentPSPDFKitContainer:n(675).default,DialogForm:n(623).default}),c()(component,{VBtn:d.a})}}]);