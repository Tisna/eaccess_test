(window.webpackJsonp=window.webpackJsonp||[]).push([[121],{1076:function(e,t,n){"use strict";n.r(t);var o=n(649),r=n(28),c=(n(91),n(6),n(40),n(44),n(243),n(197),n(34),n(64),n(896)),l={name:"LoginPage",layout:"auth",middleware:"portal",created:function(){this.checkServerLocation()},methods:{checkServerLocation:function(){"public"===this.$config.serverLocation&&this.$router.push("/login")},cekSession:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){var n,o,r,l,d,h,f,w,k,x,_,m,$;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.$auth,e.$auth.$storage.setLocalStorage("app.default_name","E-FORM"),e.$auth.$storage.removeState("sessions_key"),o=c.a.load({monitoring:!1}),t.next=6,o;case 6:return r=t.sent,t.next=9,r.get();case 9:return l=t.sent,d=l.visitorId,h=d,e.$auth.$storage.setState("sessions_key",h),f="/backend",w=function(e){try{return Boolean(new URL(e))}catch(e){return!1}},k="",k=w("/")?"/":window.location.protocol+"//"+window.location.host+"/",console.log(k),e.$route.query.sessions_key?(h=e.$route.query.sessions_key,e.$router.replace("/")):e.$auth.$storage.getState("sessions_key")?"false"===(h=e.$auth.$storage.getState("sessions_key"))&&(window.location.href=k+"/login?service=/eaccess_test"):window.location.href=k+"/login?service=/eaccess_test",x="",x=w(f)?f:window.location.protocol+"//"+window.location.host+"/backend",t.prev=21,t.next=24,e.$axios.get(x+"/api/auth/session",{params:{sessions_key:h,base_url:"/eaccess_test"}});case 24:if(!(_=t.sent).data.data.session){t.next=36;break}return t.next=28,e.$axios.get(x+"/api/auth/me",{headers:{Authorization:"Bearer "+_.data.data.session.bearer_token}});case 28:if(!(m=t.sent).status){t.next=34;break}return t.next=32,n.loginWith("local",{data:{username:m.data.data.user.username,cherry_token:m.data.data.user.cherry_token,sessions_key:h,language:"en",app_name:"E-FORM"}});case 32:($=t.sent).data.token||e.$swal({type:"error",title:$.data.auth.MessageTitle,text:$.data.auth.Message});case 34:t.next=36;break;case 36:t.next=41;break;case 38:t.prev=38,t.t0=t.catch(21),e.$swal({type:"error",title:"Error",text:t.t0.response.data.message});case 41:case"end":return t.stop()}}),t,null,[[21,38]])})))()}}},d=(n(897),n(61)),component=Object(d.a)(l,(function(){var e=this._self._c;return e(o.a,[e("h5",{staticClass:"v-heading font-weight-medium text-center text-h5 text-sm-h6 my-5"},[this._v("\n    Redirecting...\n  ")])])}),[],!1,null,"2a8256fe",null);t.default=component.exports},838:function(e,t,n){var content=n(898);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(19).default)("dfeb7200",content,!0,{sourceMap:!1})},897:function(e,t,n){"use strict";n(838)},898:function(e,t,n){var o=n(18)((function(i){return i[1]}));o.push([e.i,".logo[data-v-2a8256fe]{margin:0 auto;max-width:180px;text-align:center}",""]),o.locals={},e.exports=o}}]);