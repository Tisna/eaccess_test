(window.webpackJsonp=window.webpackJsonp||[]).push([[106],{725:function(e,t,o){var content=o(758);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,o(20).default)("e2168b3a",content,!0,{sourceMap:!1})},757:function(e,t,o){"use strict";o(725)},758:function(e,t,o){var n=o(19)(!1);n.push([e.i,".logo[data-v-d9a5343c]{max-width:180px;margin:0 auto;text-align:center}",""]),e.exports=n},880:function(e,t,o){"use strict";o.r(t);var n=o(32),r=(o(93),o(44),o(75),o(56),o(367)),c={name:"LoginPage",layout:"auth",middleware:"guest",created:function(){this.cekSession()},methods:{cekSession:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var o,n,c,l,d,h,m,f,_;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=e.$auth,e.$auth.$storage.removeState("sessions_key"),n=r.a.load({monitoring:!1}),t.next=5,n;case 5:return c=t.sent,t.next=8,c.get();case 8:return l=t.sent,d=l.visitorId,h=d,e.$auth.$storage.setState("sessions_key",h),e.$auth.$storage.setLocalStorage("app.default_name","E-FORM"),e.$route.query.sessions_key?(h=e.$route.query.sessions_key,e.$router.replace("/")):e.$auth.$storage.getState("sessions_key")?"false"===(h=e.$auth.$storage.getState("sessions_key"))&&(window.location.href="https://eportal.imip.co.id/login?service=https://eportal.imip.co.id:3001/eaccess_test"):window.location.href="https://eportal.imip.co.id/login?service=https://eportal.imip.co.id:3001/eaccess_test",t.prev=14,t.next=17,e.$axios.get("https://eportal.imip.co.id/backend/api/auth/session",{params:{sessions_key:h,base_url:"https://eportal.imip.co.id:3001/eaccess_test"}});case 17:if(m=t.sent,console.log(m),!m.data.data.session){t.next=31;break}return t.next=22,e.$axios.get("https://eportal.imip.co.id/backend/api/auth/me",{headers:{Authorization:"Bearer "+m.data.data.session.bearer_token}});case 22:if(f=t.sent,console.log(f),!f.status){t.next=29;break}return t.next=27,o.loginWith("local",{data:{username:f.data.data.user.username,cherry_token:f.data.data.user.cherry_token,sessions_key:h,language:"en",app_name:"E-FORM"}});case 27:(_=t.sent).data.token||e.$swal({type:"error",title:_.data.auth.MessageTitle,text:_.data.auth.Message});case 29:t.next=32;break;case 31:window.location.href="https://eportal.imip.co.id/login?service=https://eportal.imip.co.id:3001/eaccess_test";case 32:t.next=38;break;case 34:t.prev=34,t.t0=t.catch(14),e.$swal({type:"error",title:"Error",text:t.t0.response.data.message}),setTimeout((function(){window.location.href="https://eportal.imip.co.id/login?service=https://eportal.imip.co.id:3001/eaccess_test"}),300);case 38:case"end":return t.stop()}}),t,null,[[14,34]])})))()}}},l=(o(757),o(65)),d=o(83),h=o.n(d),m=o(590),component=Object(l.a)(c,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("v-container",[o("h5",{staticClass:"v-heading font-weight-medium text-center text-h5 text-sm-h6 my-5"},[e._v("\n    Redirecting...\n  ")])])}),[],!1,null,"d9a5343c",null);t.default=component.exports;h()(component,{VContainer:m.a})}}]);